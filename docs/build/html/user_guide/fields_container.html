
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Fields Container and Fields &#8212; PyANSYS DPF 0.4.dev0 documentation</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet" />
  <link href="../_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/basic.css" />
    <link rel="stylesheet" type="text/css" href="../_static/gallery.css" />
    <link rel="stylesheet" type="text/css" href="../_static/gallery-binder.css" />
    <link rel="stylesheet" type="text/css" href="../_static/gallery-dataframe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/gallery-rendered-html.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.1c5a1a01449ed65a7b51.js">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Plotting" href="plotting.html" />
    <link rel="prev" title="Operators" href="operators.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><style>
    .navbar-light {
        background-color: black !important;
    }
</style>

<div class="container-xl">

    <a class="navbar-brand" href="../index.html">
    
      <img src="../_static/pyansys-logo-black-cropped.png" class="logo" alt="logo" />
    
    </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-menu" aria-controls="navbar-menu" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon" >
        <i class="fas fa-bars" style="color:#fff; font-size:28px;"></i>
      </span>
    </button>
    
    <div id="navbar-menu" class="col-lg-9 collapse navbar-collapse">
      <ul id="navbar-main-elements" class="navbar-nav mr-auto">
        
        
        <li class="nav-item ">
            <a class="nav-link" href="../getting_started/index.html">Getting Started</a>
        </li>
        
        <li class="nav-item active">
            <a class="nav-link" href="index.html">User Guide</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../api/index.html">APIs</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../operator_reference.html">Operators</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../examples/index.html">Examples Gallery</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../contributing.html">Contributing</a>
        </li>
        
        
      </ul>


      

      <ul class="navbar-nav">
        
          <li class="nav-item">
            <a class="nav-link" href="https://github.com/pyansys/DPF-Core" target="_blank" rel="noopener">
              <span><i class="fab fa-github-square" style="font-size:24px"></i></span>
            </a>
          </li>
        
        
        
      </ul>
    </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
            
            <!-- Only show if we have sidebars configured, else just a small margin  -->
            <div class="col-12 col-md-3 bd-sidebar"><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    <ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="model.html">
   The DPF Model
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="operators.html">
   Operators
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Fields Container and Fields
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="plotting.html">
   Plotting
  </a>
 </li>
</ul>

  </div>
</nav>
            </div>
            
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
            
              
              <div class="toc-item">
                
<div class="tocsection onthispage pt-5 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#obtaining-fields-and-fieldscontainer">
   Obtaining Fields and FieldsContainer
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#accessing-fields-within-a-fields-container">
     Accessing Fields within a Fields Container
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#field">
   Field
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#field-metadata">
     Field Metadata
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#field-data">
   Field Data
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#accessing-field-data">
     Accessing Field Data
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#operating-on-field-data">
     Operating on Field Data
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#api-reference">
     API Reference
    </a>
   </li>
  </ul>
 </li>
</ul>

</nav>
              </div>
              
              <div class="toc-item">
                
              </div>
              
            
          </div>
          

          
          
            
          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <div class="section" id="fields-container-and-fields">
<span id="ref-user-guide-fields-container"></span><h1>Fields Container and Fields<a class="headerlink" href="#fields-container-and-fields" title="Permalink to this headline">¶</a></h1>
<p>Where DPF uses <a class="reference internal" href="operators.html#ref-user-guide-operators"><span class="std std-ref">Operators</span></a> to load operate and operate
on the data, DPF uses <code class="docutils literal notranslate"><span class="pre">Field</span></code> and <code class="docutils literal notranslate"><span class="pre">FieldsContainer</span></code> to store
the data and return it to the user.  In other words, if <code class="docutils literal notranslate"><span class="pre">Operators</span></code>
was a verb, the DPF <code class="docutils literal notranslate"><span class="pre">Field</span></code> would be the noun.  <code class="docutils literal notranslate"><span class="pre">Operators</span></code> acts
on the data, and <code class="docutils literal notranslate"><span class="pre">Field</span></code> and <code class="docutils literal notranslate"><span class="pre">FieldsContainer</span></code> hold the data.</p>
<div class="section" id="obtaining-fields-and-fieldscontainer">
<h2>Obtaining Fields and FieldsContainer<a class="headerlink" href="#obtaining-fields-and-fieldscontainer" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">outputs</span></code> from <code class="docutils literal notranslate"><span class="pre">Operators</span></code> can be either a
<a class="reference internal" href="../api/ansys.dpf.core.field.html#ansys.dpf.core.field.Field" title="ansys.dpf.core.field.Field"><code class="xref py py-class docutils literal notranslate"><span class="pre">ansys.dpf.core.field.Field</span></code></a> or
<a class="reference internal" href="../api/ansys.dpf.core.fields_container.html#ansys.dpf.core.fields_container.FieldsContainer" title="ansys.dpf.core.fields_container.FieldsContainer"><code class="xref py py-class docutils literal notranslate"><span class="pre">ansys.dpf.core.fields_container.FieldsContainer</span></code></a>.  A Fields
Container is the DPF equivalent of a <code class="docutils literal notranslate"><span class="pre">list</span></code> of <code class="docutils literal notranslate"><span class="pre">Field</span></code>, and is
used to hold a vector of fields within DPF.  In the following the
example, the <code class="docutils literal notranslate"><span class="pre">FieldsContainer</span></code> is returned from the elastic_strain operator:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">ansys.dpf</span> <span class="kn">import</span> <span class="n">core</span> <span class="k">as</span> <span class="n">dpf</span>
<span class="kn">from</span> <span class="nn">ansys.dpf.core</span> <span class="kn">import</span> <span class="n">examples</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">dpf</span><span class="o">.</span><span class="n">Model</span><span class="p">(</span><span class="n">examples</span><span class="o">.</span><span class="n">msup_transient</span><span class="p">)</span>
<span class="n">epel</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">elastic_strain</span><span class="o">.</span><span class="n">on_all_time_freqs</span>
<span class="n">fields</span> <span class="o">=</span> <span class="n">epel</span><span class="o">.</span><span class="n">eval</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">fields</span><span class="p">)</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>DPF elastic_strain(s)Fields Container
  with 20 field(s)
  defined on labels: time

  with:
  - field 0 {time:  1} with ElementalNodal location, 6 components and 40 entities.
  - field 1 {time:  2} with ElementalNodal location, 6 components and 40 entities.
  - field 2 {time:  3} with ElementalNodal location, 6 components and 40 entities.
  - field 3 {time:  4} with ElementalNodal location, 6 components and 40 entities.
  - field 4 {time:  5} with ElementalNodal location, 6 components and 40 entities.
  - field 5 {time:  6} with ElementalNodal location, 6 components and 40 entities.
  - field 6 {time:  7} with ElementalNodal location, 6 components and 40 entities.
  - field 7 {time:  8} with ElementalNodal location, 6 components and 40 entities.
  - field 8 {time:  9} with ElementalNodal location, 6 components and 40 entities.
  - field 9 {time:  10} with ElementalNodal location, 6 components and 40 entities.
  - field 10 {time:  11} with ElementalNodal location, 6 components and 40 entities.
  - field 11 {time:  12} with ElementalNodal location, 6 components and 40 entities.
  - field 12 {time:  13} with ElementalNodal location, 6 components and 40 entities.
  - field 13 {time:  14} with ElementalNodal location, 6 components and 40 entities.
  - field 14 {time:  15} with ElementalNodal location, 6 components and 40 entities.
  - field 15 {time:  16} with ElementalNodal location, 6 components and 40 entities.
  - field 16 {time:  17} with ElementalNodal location, 6 components and 40 entities.
  - field 17 {time:  18} with ElementalNodal location, 6 components and 40 entities.
  - field 18 {time:  19} with ElementalNodal location, 6 components and 40 entities.
  - field 19 {time:  20} with ElementalNodal location, 6 components and 40 entities.
</pre></div>
</div>
<div class="section" id="accessing-fields-within-a-fields-container">
<h3>Accessing Fields within a Fields Container<a class="headerlink" href="#accessing-fields-within-a-fields-container" title="Permalink to this headline">¶</a></h3>
<p>Since this result contains a transient result, the
<code class="docutils literal notranslate"><span class="pre">FieldsContainer</span></code> has one Field by time set.  Access the fields
from the <code class="docutils literal notranslate"><span class="pre">FieldsContainer</span></code> using the following methods:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">len</span><span class="p">(</span><span class="n">fields</span><span class="p">)</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>20
</pre></div>
</div>
<p>Return a field based on its index</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">field_first_time</span> <span class="o">=</span> <span class="n">fields</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">field_last_time</span> <span class="o">=</span> <span class="n">fields</span><span class="p">[</span><span class="mi">19</span><span class="p">]</span>
</pre></div>
</div>
<p>Return a field based on its time set id:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">field</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">get_field_by_time_id</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p>Alternatively, use <code class="docutils literal notranslate"><span class="pre">get_field</span></code> with the identifier of
the requested field. This API allows to access fields for more complex
requests. To use <code class="docutils literal notranslate"><span class="pre">get_field</span></code> in the same context:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">field</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">get_field</span><span class="p">({</span><span class="s1">&#39;time&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">})</span>
<span class="nb">print</span><span class="p">(</span><span class="n">field</span><span class="p">)</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>DPF elastic_strain_0.01s Field
 Location: ElementalNodal
 Unit:
 40 entities
 Data:6 components and 320 elementary data
</pre></div>
</div>
<p>Or in a more complex context, where the <code class="docutils literal notranslate"><span class="pre">get_field</span></code> method has a real use compared
to the <code class="docutils literal notranslate"><span class="pre">get_field_by_time_id</span></code> method:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">model</span> <span class="o">=</span> <span class="n">dpf</span><span class="o">.</span><span class="n">Model</span><span class="p">(</span><span class="n">examples</span><span class="o">.</span><span class="n">download_all_kinds_of_complexity</span><span class="p">())</span>
<span class="n">epel</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">elastic_strain</span><span class="o">.</span><span class="n">on_all_time_freqs</span><span class="o">.</span><span class="n">split_by_shape</span>
<span class="n">fields</span> <span class="o">=</span> <span class="n">epel</span><span class="o">.</span><span class="n">eval</span><span class="p">()</span>
<span class="n">field</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">get_field</span><span class="p">({</span><span class="s1">&#39;time&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;elshape&#39;</span><span class="p">:</span><span class="mi">0</span><span class="p">})</span>
<span class="nb">print</span><span class="p">(</span><span class="n">field</span><span class="p">)</span>

<span class="n">field</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">get_field</span><span class="p">({</span><span class="s1">&#39;time&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;elshape&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">})</span>
<span class="nb">print</span><span class="p">(</span><span class="n">field</span><span class="p">)</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>DPF elastic_strain_1.s_elshape:0 Field
 Location: ElementalNodal
 Unit:
 203 entities
 Data:6 components and 2436 elementary data

DPF elastic_strain_1.s_elshape:1 Field
 Location: ElementalNodal
 Unit:
 9052 entities
 Data:6 components and 37580 elementary data
</pre></div>
</div>
<p>Reference the available time frequency support to determine which
<code class="docutils literal notranslate"><span class="pre">time_complex_ids</span></code> are available to in the <code class="docutils literal notranslate"><span class="pre">FieldsContainer</span></code></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">model</span> <span class="o">=</span> <span class="n">dpf</span><span class="o">.</span><span class="n">Model</span><span class="p">(</span><span class="n">examples</span><span class="o">.</span><span class="n">msup_transient</span><span class="p">)</span>
<span class="n">epel</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">elastic_strain</span><span class="o">.</span><span class="n">on_all_time_freqs</span>
<span class="n">fields</span> <span class="o">=</span> <span class="n">epel</span><span class="o">.</span><span class="n">eval</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">fields</span><span class="o">.</span><span class="n">time_freq_support</span><span class="p">)</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>DPF  Time/Freq Support:
  Number of sets: 20
Cumulative     Time (s)       LoadStep       Substep
1              0.010000       1              1
2              0.020000       1              2
3              0.030000       1              3
4              0.040000       1              4
5              0.050000       1              5
6              0.060000       1              6
7              0.070000       1              7
8              0.080000       1              8
9              0.090000       1              9
10             0.100000       1              10
11             0.110000       1              11
12             0.120000       1              12
13             0.130000       1              13
14             0.140000       1              14
15             0.150000       1              15
16             0.160000       1              16
17             0.170000       1              17
18             0.180000       1              18
19             0.190000       1              19
20             0.200000       1              20
</pre></div>
</div>
<p>Note that the time set ids used are 1 based.  When indexing from pythonic indexing via
<code class="docutils literal notranslate"><span class="pre">fields[0]</span></code>, you can use zero based indexing.  When requesting the
results via <code class="docutils literal notranslate"><span class="pre">get_fields</span></code>, the request is based on the time scoping set ids.</p>
</div>
</div>
<div class="section" id="field">
<h2>Field<a class="headerlink" href="#field" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference internal" href="../api/ansys.dpf.core.field.html#ansys.dpf.core.field.Field" title="ansys.dpf.core.field.Field"><code class="xref py py-class docutils literal notranslate"><span class="pre">ansys.dpf.core.field.Field</span></code></a> is the fundamental unit of data within DPF.
It contains the actual data and its metadata:
results data are defined by values associated to entities (scoping), and these entities are a subset of a model (support).
In DPF, field data is always associated to its scoping and support, making the field a self-describing piece of data.
A field is also defined by its dimensionnality, unit, location…</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">field</span> <span class="o">=</span> <span class="n">fields</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">field</span><span class="p">)</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>DPF elastic_strain_0.01s Field
   Location: ElementalNodal
   Unit:
   40 entities
   Data:6 components and 320 elementary data
</pre></div>
</div>
<p>Note that by printing the field you can get an overview of the field’s
metadata.  The next section provides an overview of the metadata associated with the field itself.</p>
<div class="section" id="field-metadata">
<h3>Field Metadata<a class="headerlink" href="#field-metadata" title="Permalink to this headline">¶</a></h3>
<p>The field contains the metadata associated with the result it is
associated with, including the location (either <code class="docutils literal notranslate"><span class="pre">Elemental</span></code>, <code class="docutils literal notranslate"><span class="pre">Nodal</span></code>,
<code class="docutils literal notranslate"><span class="pre">ElementalNodal</span></code>, …) and IDs associated with that location.  To access the
scoping of the field, use the <code class="docutils literal notranslate"><span class="pre">scoping</span></code> attribute:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">field</span><span class="o">.</span><span class="n">scoping</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;field.scoping.ids:&#39;</span><span class="p">,</span> <span class="n">field</span><span class="o">.</span><span class="n">scoping</span><span class="o">.</span><span class="n">ids</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;field.location:&#39;</span><span class="p">,</span> <span class="n">field</span><span class="o">.</span><span class="n">location</span><span class="p">)</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span> DPF  Scoping:
   with Elemental location and 40 entities

field.scoping.ids: [21,
  22,
  23,
  24,
  25,
  26,
  ...
  ]

  field.location:&#39;ElementalNodal&#39;
</pre></div>
</div>
<p>Note that <code class="docutils literal notranslate"><span class="pre">Elemental</span></code> denotes one value (multiplied by the number of
components) of data per element, <code class="docutils literal notranslate"><span class="pre">Nodal</span></code> is per node, and
<code class="docutils literal notranslate"><span class="pre">ElementalNodal</span></code> is one value per node per element.  For example,
strain is a <code class="docutils literal notranslate"><span class="pre">ElementalNodal</span></code> value as the strain is evaluated at
each node for each element.</p>
<p>The field also contains additional metadata such as the <code class="docutils literal notranslate"><span class="pre">shape</span></code> of
the data stored, the location of the field, number of components, and
the units of the data,</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">stress</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">stress</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">field</span> <span class="o">=</span> <span class="n">stress</span><span class="o">.</span><span class="n">eval</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>

<span class="go">Units of the field describing volume</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">field</span><span class="o">.</span><span class="n">unit</span>


<span class="go">Elemental, elemental nodal, or nodal element &quot;location&quot; of the field</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">field</span><span class="o">.</span><span class="n">location</span>

<span class="go">Number of components associated with the field.  It&#39;s expected to</span>
<span class="go">be have a single dimension since there can only be one volume per</span>
<span class="go">element.</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">field</span><span class="o">.</span><span class="n">component_count</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>&#39;Pa&#39;
&#39;ElementalNodal&#39;
6
</pre></div>
</div>
</div>
</div>
<div class="section" id="field-data">
<h2>Field Data<a class="headerlink" href="#field-data" title="Permalink to this headline">¶</a></h2>
<div class="section" id="accessing-field-data">
<h3>Accessing Field Data<a class="headerlink" href="#accessing-field-data" title="Permalink to this headline">¶</a></h3>
<p>When DPF-Core returns a <a class="reference internal" href="../api/ansys.dpf.core.field.html#ansys.dpf.core.field.Field" title="ansys.dpf.core.field.Field"><code class="xref py py-class docutils literal notranslate"><span class="pre">ansys.dpf.core.field.Field</span></code></a>, what
Python actually has is a client side representation of the Field, but
not the entirety of the field itself.  This means that all the data of
the field is stored within the DPF service.  This is important because
when building your post-processing workflows, keep in mind that the
most efficient way of interacting with the result data is to minimize
the exchange of data between Python and DPF, either by using operators
or by accessing only the data that is needed.</p>
<p>Should you need to access the entire array of data, you can request
the data be returned as a <code class="docutils literal notranslate"><span class="pre">numpy</span></code> array with:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">array</span> <span class="o">=</span> <span class="n">field</span><span class="o">.</span><span class="n">data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">array</span>
<span class="go">array([[ 4.01372930e+04,  3.85071930e+02, -1.40019130e+07,</span>
<span class="go">     7.48472351e+02, -2.60259531e+04, -2.62856938e+05],</span>
<span class="go">   [-1.19228638e+03, -6.18210815e+02, -1.39912700e+07,</span>
<span class="go">     2.61468994e+03, -1.31871719e+05, -2.59527125e+05],</span>
<span class="go">   [ 9.02558960e+02,  5.63793152e+02, -1.17102740e+07,</span>
<span class="go">    -8.99381836e+02, -1.21302727e+05, -2.45666328e+05],</span>
<span class="go">   ...,</span>
<span class="go">   [-3.99694531e+04,  1.44622528e+02,  9.62343100e+06,</span>
<span class="go">    -7.09812073e+02, -2.26106621e+04, -2.23155891e+05],</span>
<span class="go">   [-4.31104401e+02, -2.67612732e+02,  9.60954800e+06,</span>
<span class="go">     1.93208755e+02, -1.11580734e+05, -2.24406062e+05],</span>
<span class="go">   [ 5.56899536e+02,  3.88515320e+02,  1.17119880e+07,</span>
<span class="go">    -1.68983887e+03, -1.21768023e+05, -2.41346125e+05]])</span>

<span class="go">This array has 6 components by elementary data (symmetrical tensor XX,YY,ZZ,XY,YZ,XZ)</span>
<span class="go">Note that this array is a genuine, local, numpy array</span>

<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">array</span><span class="p">)</span>
<span class="go">numpy.ndarray</span>
</pre></div>
</div>
<p>Should you need to request data individual node or element, you can
request it using either <code class="docutils literal notranslate"><span class="pre">get_entity_data</span></code> or
<code class="docutils literal notranslate"><span class="pre">get_entity_data_by_id</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>Get the data from the first element in the field.

&gt;&gt;&gt; field.get_entity_data(0)

Get the data for the element with the ID 10

&gt;&gt;&gt; field.get_entity_data_by_id(10)
array([[ 4.99232031e+04,  1.93570602e+02, -3.08514075e+06,
    -5.48255615e+02, -1.37476562e+04,  1.34827719e+05],
   [ 5.23090469e+04, -1.87847885e+02, -1.98004588e+06,
    -1.12942969e+03, -1.11147285e+04,  1.09223398e+05],
   [-4.90510511e+00, -1.16425255e+02, -1.96296662e+06,
    -5.48878540e+02, -5.48524844e+04,  1.09255164e+05],
   [ 2.63994884e+01,  1.50431015e+02, -3.06906050e+06,
    -1.17046680e+03, -6.76924219e+04,  1.34773391e+05],
   [-4.99232031e+04, -1.93571167e+02,  3.08514075e+06,
    -5.48256836e+02, -1.37476562e+04, -1.34827719e+05],
   [-5.23090469e+04,  1.87848083e+02,  1.98004588e+06,
    -1.12943201e+03, -1.11147295e+04, -1.09223398e+05],
   [ 4.90471840e+00,  1.16423714e+02,  1.96296662e+06,
    -5.48877380e+02, -5.48524844e+04, -1.09255164e+05],
   [-2.63994102e+01, -1.50429443e+02,  3.06906050e+06,
    -1.17046619e+03, -6.76924219e+04, -1.34773391e+05]])

Note that this would correspond to an index of 29 within the
field.  Be aware that scoping IDs are not sequential.  The index
of Element 29 in the field can be obtained by:

&gt;&gt;&gt; field.scoping.ids.index(10)
29

Here the data of element of id 10 is made of 8 symmetrical tensor, indeed
the elastic strain has one tensor value by node by element (``ElementalNodal`` location)

For a displacement on node 3, we have :
&gt;&gt;&gt; disp = model.results.displacement.eval()[0]
&gt;&gt;&gt; disp.get_entity_data_by_id(3)
array([[8.06571808e-14, 4.03580652e-04, 2.61804706e-05]])

One 3D vector (X,Y,Z) displacement
</pre></div>
</div>
<p>These methods are acceptable when requesting data for a few elements
or nodes, but should not be used when looping over the entire array.
Field’s data can be recovered locally before sending a large number of requests
for efficiency purpose:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">field</span><span class="o">.</span><span class="n">as_local_field</span><span class="p">()</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">100</span><span class="p">):</span>
        <span class="n">f</span><span class="o">.</span><span class="n">get_entity_data_by_id</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="operating-on-field-data">
<h3>Operating on Field Data<a class="headerlink" href="#operating-on-field-data" title="Permalink to this headline">¶</a></h3>
<p>Often times, it’s not necessary to directly act upon the data of an
array within Python.  For example, if you want to know the maximum of
the data, you could potentially compute the maximum of the array from
<code class="docutils literal notranslate"><span class="pre">numpy</span></code> with <code class="docutils literal notranslate"><span class="pre">array.max()</span></code>, but that requires sending the entire
array to Python and then computing the maximum there.  Rather than
copying the array over and then computing the maximum in Python, you
can instead compute the maximum directly from the field itself.  The
<code class="docutils literal notranslate"><span class="pre">min</span></code> and <code class="docutils literal notranslate"><span class="pre">max</span></code> methods of <code class="docutils literal notranslate"><span class="pre">Field</span></code> use the <code class="docutils literal notranslate"><span class="pre">'min_max'</span></code>
Operator was used to compute the maximum of the field while returning
the field.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Compute</span> <span class="n">the</span> <span class="n">maximum</span> <span class="n">of</span> <span class="n">the</span> <span class="n">field</span> <span class="n">within</span> <span class="n">DPF</span> <span class="ow">and</span> <span class="k">return</span> <span class="n">the</span> <span class="n">result</span>
<span class="n">a</span> <span class="n">numpy</span> <span class="n">array</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">max_field</span> <span class="o">=</span> <span class="n">field</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">max_field</span><span class="o">.</span><span class="n">data</span>
<span class="n">array</span><span class="p">([</span><span class="mf">0.12492393</span><span class="p">,</span> <span class="mf">0.06738043</span><span class="p">,</span> <span class="mf">0.05854268</span><span class="p">,</span> <span class="mf">0.05807593</span><span class="p">,</span> <span class="mf">0.08250141</span><span class="p">,</span>
   <span class="mf">0.2068032</span> <span class="p">])</span>

<span class="n">Get</span> <span class="n">the</span> <span class="n">element</span> <span class="ow">or</span> <span class="n">node</span> <span class="n">ID</span> <span class="n">of</span> <span class="n">the</span> <span class="n">maximum</span> <span class="n">value</span><span class="o">.</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">max_field</span><span class="o">.</span><span class="n">scoping</span><span class="o">.</span><span class="n">ids</span>
<span class="p">[</span><span class="mi">369</span><span class="p">,</span> <span class="mi">1073</span><span class="p">,</span> <span class="mi">1031</span><span class="p">,</span> <span class="mi">1040</span><span class="p">,</span> <span class="mi">2909</span><span class="p">,</span> <span class="mi">2909</span><span class="p">]</span>
</pre></div>
</div>
<p>Note that is a convenience method.  For more advanced operator
chaining, please see the <a class="reference internal" href="operators.html#ref-user-guide-operators"><span class="std std-ref">Operators</span></a> section in
the user guide.  Here is a quick example of connecting the
<code class="docutils literal notranslate"><span class="pre">'elemental_mean'</span></code> operator to the field data:</p>
<p>Compute the average of a field using the ‘elemental_mean’ operator:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">ansys.dpf.core</span> <span class="kn">import</span> <span class="n">operators</span> <span class="k">as</span> <span class="n">ops</span>
<span class="n">avg_op</span> <span class="o">=</span> <span class="n">ops</span><span class="o">.</span><span class="n">averaging</span><span class="o">.</span><span class="n">elemental_mean</span><span class="p">(</span><span class="n">field</span><span class="p">)</span>
<span class="n">avg_field</span> <span class="o">=</span> <span class="n">avg_op</span><span class="o">.</span><span class="n">outputs</span><span class="o">.</span><span class="n">field</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">avg_field</span><span class="o">.</span><span class="n">get_entity_data</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">avg_field</span><span class="o">.</span><span class="n">location</span><span class="p">)</span>
</pre></div>
</div>
<p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>[[ 4.65393066e-04 -2.47955322e-05  0.00000000e+00  7.68026390e+02
  -7.59655688e+04  0.00000000e+00]]
Elemental
</pre></div>
</div>
</div>
<div class="section" id="api-reference">
<h3>API Reference<a class="headerlink" href="#api-reference" title="Permalink to this headline">¶</a></h3>
<p>See the API reference at <a class="reference internal" href="../api/ansys.dpf.core.fields_container.html#ref-fields-container"><span class="std std-ref">FieldsContainer</span></a> and
<a class="reference internal" href="../api/ansys.dpf.core.field.html#ref-field"><span class="std std-ref">Field</span></a>.</p>
</div>
</div>
</div>


              </div>
              
              
              <div class='prev-next-bottom'>
                
    <a class='left-prev' id="prev-link" href="operators.html" title="previous page">Operators</a>
    <a class='right-next' id="next-link" href="plotting.html" title="next page">Plotting</a>

              </div>
              
          </main>
          

      </div>
    </div>
  
  <script src="../_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  <footer class="footer mt-5 mt-md-0">
  <div class="container">
    
    <div class="footer-item">
      <p class="copyright">
    &copy; Copyright 2021, ANSYS.<br/>
</p>
    </div>
    
    <div class="footer-item">
      <p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.0.2.<br/>
</p>
    </div>
    
  </div>
</footer>
  </body>
</html>